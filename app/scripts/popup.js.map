{"version":3,"sources":["../scripts.babel/popup.js"],"names":[],"mappings":"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","file":"popup.js","sourcesContent":["'use strict';\n\nangular\n  .module('misha', [\n    'ngAnimate',\n    'ngCookies',\n    'ngResource',\n    'ngRoute',\n    'ngSanitize'\n  ])\n  .config(function ($routeProvider) {\n    $routeProvider\n      .when('/main', {\n        templateUrl: 'views/main.html',\n        controller: 'MainCtrl',\n        controllerAs: 'main'\n      })\n      .when('/', {\n        controller:   'ListCtrl',\n        controllerAs: 'list',\n        templateUrl:  'views/list.html'\n    //    resolve:      {\n    //      users:  {\n    //  return users.get().catch(function (e) {\n    //    console.error(e);\n    //    return [];\n    //  });\n    //}\n      }).otherwise({\n        redirectTo: '/'\n      })\n      .otherwise({\n        redirectTo: '/'\n      });\n  })\n\n  .controller('MainCtrl', ['$scope', '$resource', function ($scope, $resource) {\n\n    var api = 'http://localhost:1337';\n\n    var User = $resource(api + '/user/:userId', {userId:'@id'});\n    var Pending = $resource(api + '/pending/:userId', {userId:'@id'});\n\n    chrome.storage.local.get('me', function(res) {\n      $scope.me = res.me;\n    });\n\n    $scope.notifyMe = function(userId) {\n      var notify = new Pending({\n        user_id: '567151fe7d2baa1d49c0dcfa',\n        waiting_for: '567151fe7d2baa1d49c0dcf9',\n        message: 'is now available!'\n      });\n      notify.$save();\n    };\n\n    $scope.sendMessage = function(userId, message) {\n      var notify = new Pending({\n        user_id: userId,\n        waiting_for: $scope.me.id,\n        message: message\n      });\n      notify.$save();\n    }\n\n  }])\n\n  .controller('ListCtrl', ['$scope', '$resource', function ($scope, $resource) {\n\n    var api = 'http://localhost:1337';\n\n    var User = $resource(api + '/user/:userId', { userId: '@id' });\n    var Pending = $resource(api + '/pending/:userId', { userId: '@id' });\n    $scope.users = $resource(api+'/user');\n\n    User.query({limit:2000})\n      .$promise.then(function(user) {\n        $scope.users = user;\n      });\n\n    $scope.notifyMe = function (userId) {\n      var notify = new Pending({\n        user_id: '1',\n        waiting_for: userId,\n        message_id: 'notify me'\n      });\n      notify.save();\n    }\n\n  }]);"]}