{"version":3,"sources":["../scripts.babel/background.js"],"names":[],"mappings":"AAAA,YAAY;;;;;;;AAAC,AAOb,MAAM,CAAC,aAAa,CAAC,YAAY,CAAC,EAAC,IAAI,EAAE,QAAQ,EAAC,CAAC,CAAC;;AAEpD,IAAI,GAAG,GAAG,uBAAuB;;AAAC,AAElC,WAAW,CAAC,YAAU;AACpB,GAAC,CAAC,IAAI,CAAC,GAAG,GAAG,gCAAgC,CAAC,CAAC;CAChD,EAAE,KAAK,CAAC;;;AAAC,AAIV,MAAM,CAAC,QAAQ,CAAC,YAAY,CAE1B,EAAC,aAAa,EAAE,IAAI,EAAC,EACrB,UAAS,KAAK,EAAC;;;AAGb,MAAI,CAAC,GAAG,IAAI,cAAc,EAAE,CAAC;AAC7B,GAAC,CAAC,IAAI,CAAC,KAAK,EAAE,sEAAsE,GAAG,KAAK,CAAC,CAAC;AAC9F,GAAC,CAAC,MAAM,GAAG,YAAW;AACpB,SAAK,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC;AAClB,QAAI,eAAe,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC;AAC7C,KAAC,CAAC,GAAG,CAAC,GAAG,GAAC,cAAc,GAAC,eAAe,CAAC,KAAK,EAAE,UAAS,GAAG,EAAE;AAC5D,aAAO,CAAC,GAAG,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;KACzB,CAAC,CAAC;GACJ,CAAC;AACF,GAAC,CAAC,IAAI,EAAE,CAAC;CAEV,CACF,CAAC","file":"background.js","sourcesContent":["'use strict';\n//\n//chrome.runtime\n//  .onInstalled.addListener(details => {\n//  console.log('previousVersion', details.previousVersion);\n//});\n\nchrome.browserAction.setBadgeText({text: '\\'Allo'});\n\nvar api = 'http://localhost:1337'; //'http://misha-api.herokuapp.com'\n\nsetInterval(function(){\n  $.post(api + '/user/seen?email=guyso@wix.com');\n}, 15000);\n\n\n//OAUTH stuff\nchrome.identity.getAuthToken(\n\n  {'interactive': true},\n  function(token){\n    //load Google's javascript client libraries\n\n    var x = new XMLHttpRequest();\n    x.open('GET', 'https://www.googleapis.com/oauth2/v1/userinfo?alt=json&access_token=' + token);\n    x.onload = function() {\n      alert(x.response);\n      var parsed_response = JSON.parse(x.response);\n      $.get(api+'/user?email='+parsed_response.email, function(res) {\n        console.log('got', res);\n      });\n    };\n    x.send();\n\n  }\n);\n\n"]}